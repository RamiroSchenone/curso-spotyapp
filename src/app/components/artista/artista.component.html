<app-loading
    class="animated fadeIn"
    *ngIf="$loading"
></app-loading>

<div class="container animated fadeIn" *ngIf="!$loading">
    <div class="row">
        <div class="col-4">
            <img [src]="artist.images | noimage" class="img-thumbnail img-circle">
            <h3 class="mt-3">{{artist.name}}</h3>
            <p class="">
                <a target="_blank" [href]="artist.external_urls.spotify">Ir a la p√°gina del artista</a>
            </p>
        </div>
        <div class="col-4 text-center">
            <p class="" style="font-size: 25px;">
                <b>{{artist.followers.total}}</b> fws 
            </p>
            <h6 *ngFor="let genero of artist.genres" class="badge rounded-pill text-bg-success">{{genero}}</h6>
        </div>
        <div class="col-4 d-flex align-items-start justify-content-end">
            <button routerLink="/search" type="button" class="btn btn-outline-success">Regresar</button>
        </div>
    </div>

    <h4 class="mt-5">Top Tracks</h4>
    <hr>

    <table class="table table-dark table-striped table-hover mt-5">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Foto</th>
            <th scope="col">Album</th>
            <th scope="col">Titulo</th>
            <th scope="col">Vista Previa</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let track of topTracks, let i = index" 
            (click)="redirectUrlExternal(track)">
            <th scope="row">{{ i + 1 }}</th>
            <td>
                <img [src]="track.album.images | noimage" class="img-circle img-thumb" >
            </td>
            <td class="align-middle">{{track.album.name}}</td>
            <td class="align-middle">{{track.name}}</td>
            <td class="align-middle">
                <audio [src]="track.preview_url" controls></audio>
            </td>
          </tr>
        </tbody>
      </table>
</div>